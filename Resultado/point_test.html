<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>
        <title>Analisis_Lexico</title>
        <link rel="stylesheet" href="estilo.css" type="text/css">        
    </head>    
    <body>
        <pre><span id = 'Variable'>package</span> <span id = 'Variable'>geo</span>

<span id = 'Constante'>import </span><span id = 'Puntuacion'>(</span>
	<span id = 'String'>"bytes"</span>
	<span id = 'String'>"encoding/binary"</span>
	<span id = 'String'>"encoding/json"</span>
	<span id = 'String'>"fmt"</span>
	<span id = 'String'>"log"</span>
	<span id = 'String'>"testing"</span>
<span id = 'Puntuacion'>)</span>

<span id = 'Comentario'>// Tests that a call to NewPoint should return a pointer to a Point with the specified values assigned correctly.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestNewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Flotante'>40.5</span><span id = 'Invalido'>,</span> <span id = 'Flotante'>120.5</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>p</span> <span id = 'Asignacion'>=</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Expected to get a pointer to a new point, but got nil instead."</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Flotante'>40.5</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Expected to be able to specify 40.5 as the lat value of a new point, but got %f instead"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Flotante'>120.5</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Expected to be able to specify 120.5 as the lng value of a new point, but got %f instead"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Tests that calling GetLat() after creating a new point returns the expected lat value.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestLat</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Flotante'>40.5</span><span id = 'Invalido'>,</span> <span id = 'Flotante'>120.5</span><span id = 'Puntuacion'>)</span>

	<span id = 'Variable'>lat</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>Lat</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>lat</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Flotante'>40.5</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Expected a call to GetLat() to return the same lat value as was set before, but got %f instead"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lat</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Tests that calling GetLng() after creating a new point returns the expected lng value.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestLng</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Flotante'>40.5</span><span id = 'Invalido'>,</span> <span id = 'Flotante'>120.5</span><span id = 'Puntuacion'>)</span>

	<span id = 'Variable'>lng</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>Lng</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>lng</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Flotante'>120.5</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Expected a call to GetLng() to return the same lat value as was set before, but got %f instead"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Seems brittle :\</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestGreatCircleDistance</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Comentario'>// Test that SEA and SFO are ~ 1091km apart, accurate to 100 meters.</span>
	<span id = 'Variable'>sea</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>47.4489</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>122.3094</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>sfo</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>37.6160933</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>122.3924223</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>sfoToSea</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>1093.379199082169</span>

	<span id = 'Variable'>dist</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>sea</span><span id = 'Invalido'>.</span><span id = 'Variable'>GreatCircleDistance</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>sfo</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>dist</span> <span id = 'Invalido'>&lt</span> <span id = 'Puntuacion'>(</span><span id = 'Variable'>sfoToSea</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.1</span><span id = 'Puntuacion'>)</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>dist</span> <span id = 'Invalido'>&gt</span> <span id = 'Puntuacion'>(</span><span id = 'Variable'>sfoToSea</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.1</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unnacceptable result."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>dist</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Variable'>func</span> <span id = 'Variable'>TestPointAtDistanceAndBearing</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>sea</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>47.44745785</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>122.308065668024</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>sea</span><span id = 'Invalido'>.</span><span id = 'Variable'>PointAtDistanceAndBearing</span><span id = 'Puntuacion'>(</span><span id = 'Flotante'>1090.7</span><span id = 'Invalido'>,</span> <span id = 'Entero'>180</span><span id = 'Puntuacion'>)</span>

	<span id = 'Comentario'>// Expected results of transposing point</span>
	<span id = 'Comentario'>// ~1091km at bearing of 180 degrees</span>
	<span id = 'Variable'>resultLat</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>37.638557</span>
	<span id = 'Variable'>resultLng</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>122.308066</span>

	<span id = 'Variable'>withinLatBounds</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Invalido'>&lt</span> <span id = 'Variable'>resultLat</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.001</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Invalido'>&gt</span> <span id = 'Variable'>resultLat</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.001</span>
	<span id = 'Variable'>withinLngBounds</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Invalido'>&lt</span> <span id = 'Variable'>resultLng</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.001</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Invalido'>&gt</span> <span id = 'Variable'>resultLng</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.001</span>
	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>withinLatBounds</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>withinLngBounds</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unnacceptable result."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>fmt</span><span id = 'Invalido'>.</span><span id = 'Variable'>Sprintf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"[%f, %f]"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Variable'>func</span> <span id = 'Variable'>TestBearingTo</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p1</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>40.7486</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>73.9864</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>p2</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>0.0</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>0.0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>bearing</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p1</span><span id = 'Invalido'>.</span><span id = 'Variable'>BearingTo</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p2</span><span id = 'Puntuacion'>)</span>

	<span id = 'Comentario'>// Expected bearing 60 degrees</span>
	<span id = 'Variable'>resultBearing</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>100.610833</span>

	<span id = 'Variable'>withinBearingBounds</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>bearing</span> <span id = 'Invalido'>&lt</span> <span id = 'Variable'>resultBearing</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.001</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>bearing</span> <span id = 'Invalido'>&gt</span> <span id = 'Variable'>resultBearing</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.001</span>
	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Variable'>withinBearingBounds</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unnacceptable result."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>fmt</span><span id = 'Invalido'>.</span><span id = 'Variable'>Sprintf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"%f"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>bearing</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Variable'>func</span> <span id = 'Variable'>TestMidpointTo</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p1</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>52.205</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>0.119</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>p2</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>lat</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>48.857</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lng</span><span id = 'Invalido'>:</span> <span id = 'Flotante'>2.351</span><span id = 'Puntuacion'>}</span>

	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p1</span><span id = 'Invalido'>.</span><span id = 'Variable'>MidpointTo</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p2</span><span id = 'Puntuacion'>)</span>

	<span id = 'Comentario'>// Expected midpoint 50.5363°N, 001.2746°E</span>
	<span id = 'Variable'>resultLat</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>50.53632</span>
	<span id = 'Variable'>resultLng</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>1.274614</span>

	<span id = 'Variable'>withinLatBounds</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Invalido'>&lt</span> <span id = 'Variable'>resultLat</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.001</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Invalido'>&gt</span> <span id = 'Variable'>resultLat</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.001</span>
	<span id = 'Variable'>withinLngBounds</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Invalido'>&lt</span> <span id = 'Variable'>resultLng</span><span id = 'Aritmetico'>+</span><span id = 'Flotante'>0.001</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Invalido'>&gt</span> <span id = 'Variable'>resultLng</span><span id = 'Aritmetico'>-</span><span id = 'Flotante'>0.001</span>
	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>withinLatBounds</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>withinLngBounds</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unnacceptable result."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>fmt</span><span id = 'Invalido'>.</span><span id = 'Variable'>Sprintf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"[%f, %f]"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Ensures that a point can be marhalled into JSON</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestMarshalJSON</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Flotante'>40.7486</span><span id = 'Invalido'>,</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>73.9864</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>res</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>json</span><span id = 'Invalido'>.</span><span id = 'Variable'>Marshal</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>log</span><span id = 'Invalido'>.</span><span id = 'Variable'>Print</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>err</span><span id = 'Puntuacion'>)</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Should not encounter an error when attempting to Marshal a Point to JSON"</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>string</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>res</span><span id = 'Puntuacion'>)</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'String'>`{"lat":40.7486,"lng":-73.9864}`</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Point should correctly Marshal to JSON"</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Ensures that a point can be unmarhalled from JSON</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestUnmarshalJSON</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>data</span> <span id = 'Asignacion'>:=</span> <span id = 'Invalido'>[</span><span id = 'Invalido'>]</span><span id = 'Variable'>byte</span><span id = 'Puntuacion'>(</span><span id = 'String'>`{"lat":40.7486,"lng":-73.9864}`</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>UnmarshalJSON</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>data</span><span id = 'Puntuacion'>)</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Should not encounter an error when attempting to Unmarshal a Point from JSON"</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>if </span><span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Flotante'>40.7486</span> <span id = 'Logico'>||</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>73.9864</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Point has mismatched data after Unmarshalling from JSON"</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Ensure that a point can be marshalled into slice of binaries</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestMarshalBinary</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>40.7486</span><span id = 'Invalido'>,</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>73.9864</span>
	<span id = 'Variable'>p</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>actual</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>p</span><span id = 'Invalido'>.</span><span id = 'Variable'>MarshalBinary</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Should not encounter an error when attempting to Marshal a Point to binary"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Variable'>expected</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>coordinatesToBytes</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span><span id = 'Puntuacion'>)</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unable to convert coordinates to bytes slice."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Variable'>bytes</span><span id = 'Invalido'>.</span><span id = 'Variable'>Equal</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>actual</span><span id = 'Invalido'>,</span> <span id = 'Variable'>expected</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Point should correctly Marshal to Binary.\nExpected %v\nBut got %v"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>expected</span><span id = 'Invalido'>,</span> <span id = 'Variable'>actual</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Ensure that a point can be unmarshalled from a slice of binaries</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>TestUnmarshalBinary</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>t</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>testing</span><span id = 'Invalido'>.</span><span id = 'Variable'>T</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span> <span id = 'Asignacion'>:=</span> <span id = 'Flotante'>40.7486</span><span id = 'Invalido'>,</span> <span id = 'Aritmetico'>-</span><span id = 'Flotante'>73.9864</span>
	<span id = 'Variable'>coordinates</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>coordinatesToBytes</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span><span id = 'Puntuacion'>)</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Unable to convert coordinates to bytes slice."</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Variable'>actual</span> <span id = 'Asignacion'>:=</span> <span id = 'Aritmetico'>&amp</span><span id = 'Variable'>Point</span><span id = 'Puntuacion'>{</span><span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>err</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>actual</span><span id = 'Invalido'>.</span><span id = 'Variable'>UnmarshalBinary</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>coordinates</span><span id = 'Puntuacion'>)</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Error</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Should not encounter an error when attempting to Unmarshal a Point from binary"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Variable'>expected</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>NewPoint</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span><span id = 'Puntuacion'>)</span>
	<span id = 'Constante'>if </span><span id = 'Logico'>!</span><span id = 'Variable'>assertPointsEqual</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>actual</span><span id = 'Invalido'>,</span> <span id = 'Variable'>expected</span><span id = 'Invalido'>,</span> <span id = 'Entero'>4</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>t</span><span id = 'Invalido'>.</span><span id = 'Variable'>Errorf</span><span id = 'Puntuacion'>(</span><span id = 'String'>"Point should correctly Marshal to Binary.\nExpected %+v\nBut got %+v"</span><span id = 'Invalido'>,</span> <span id = 'Variable'>expected</span><span id = 'Invalido'>,</span> <span id = 'Variable'>actual</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Variable'>func</span> <span id = 'Variable'>coordinatesToBytes</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>lat</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span> <span id = 'Variable'>float64</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>(</span><span id = 'Invalido'>[</span><span id = 'Invalido'>]</span><span id = 'Variable'>byte</span><span id = 'Invalido'>,</span> <span id = 'Variable'>error</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Constante'>var </span><span id = 'Variable'>buf</span> <span id = 'Variable'>bytes</span><span id = 'Invalido'>.</span><span id = 'Variable'>Buffer</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>binary</span><span id = 'Invalido'>.</span><span id = 'Variable'>Write</span><span id = 'Puntuacion'>(</span><span id = 'Aritmetico'>&amp</span><span id = 'Variable'>buf</span><span id = 'Invalido'>,</span> <span id = 'Variable'>binary</span><span id = 'Invalido'>.</span><span id = 'Variable'>LittleEndian</span><span id = 'Invalido'>,</span> <span id = 'Variable'>lat</span><span id = 'Puntuacion'>)</span><span id = 'Invalido'>;</span> <span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Constante'>return </span><span id = 'Variable'>nil</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span>
	<span id = 'Puntuacion'>}</span>
	<span id = 'Constante'>if </span><span id = 'Variable'>err</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>binary</span><span id = 'Invalido'>.</span><span id = 'Variable'>Write</span><span id = 'Puntuacion'>(</span><span id = 'Aritmetico'>&amp</span><span id = 'Variable'>buf</span><span id = 'Invalido'>,</span> <span id = 'Variable'>binary</span><span id = 'Invalido'>.</span><span id = 'Variable'>LittleEndian</span><span id = 'Invalido'>,</span> <span id = 'Variable'>long</span><span id = 'Puntuacion'>)</span><span id = 'Invalido'>;</span> <span id = 'Variable'>err</span> <span id = 'Logico'>!</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>nil</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Constante'>return </span><span id = 'Variable'>nil</span><span id = 'Invalido'>,</span> <span id = 'Variable'>err</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Constante'>return </span><span id = 'Variable'>buf</span><span id = 'Invalido'>.</span><span id = 'Variable'>Bytes</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span><span id = 'Invalido'>,</span> <span id = 'Variable'>nil</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// Asserts true when the latitude and longtitude of p1 and p2 are equal up to a certain number of decimal places.</span>
<span id = 'Comentario'>// Precision is used to define that number of decimal places.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>assertPointsEqual</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p1</span><span id = 'Invalido'>,</span> <span id = 'Variable'>p2</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>Point</span><span id = 'Invalido'>,</span> <span id = 'Variable'>precision</span> <span id = 'Variable'>int</span><span id = 'Puntuacion'>)</span> <span id = 'Variable'>bool</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>roundedLat1</span><span id = 'Invalido'>,</span> <span id = 'Variable'>roundedLng1</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>int</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p1</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span><span id = 'Aritmetico'>*</span><span id = 'Variable'>float64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span><span id = 'Aritmetico'>/</span><span id = 'Variable'>precision</span><span id = 'Invalido'>,</span> <span id = 'Variable'>int</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p1</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span><span id = 'Aritmetico'>*</span><span id = 'Variable'>float64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span><span id = 'Aritmetico'>/</span><span id = 'Variable'>precision</span>
	<span id = 'Variable'>roundedLat2</span><span id = 'Invalido'>,</span> <span id = 'Variable'>roundedLng2</span> <span id = 'Asignacion'>:=</span> <span id = 'Variable'>int</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p2</span><span id = 'Invalido'>.</span><span id = 'Variable'>lat</span><span id = 'Aritmetico'>*</span><span id = 'Variable'>float64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span><span id = 'Aritmetico'>/</span><span id = 'Variable'>precision</span><span id = 'Invalido'>,</span> <span id = 'Variable'>int</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>p2</span><span id = 'Invalido'>.</span><span id = 'Variable'>lng</span><span id = 'Aritmetico'>*</span><span id = 'Variable'>float64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span><span id = 'Aritmetico'>/</span><span id = 'Variable'>precision</span>
	<span id = 'Constante'>return </span><span id = 'Variable'>roundedLat1</span> <span id = 'Asignacion'>=</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>roundedLat2</span> <span id = 'Logico'>&amp&amp</span> <span id = 'Variable'>roundedLng1</span> <span id = 'Asignacion'>=</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>roundedLng2</span>
<span id = 'Puntuacion'>}</span>        </pre>
    </body>
</html>    