<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>
        <title>Analisis_Lexico</title>
        <link rel="stylesheet" href="estilo.css" type="text/css">        
    </head>    
    <body>
        <pre><span id = 'Comentario'>//go:generate go run gen.go -o extra_test.go</span>

<span id = 'Comentario'>// Package binary128 implements encoding and decoding of IEEE 754 quadruple</span>
<span id = 'Comentario'>// precision floating-point numbers.</span>
<span id = 'Comentario'>//</span>
<span id = 'Comentario'>// https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format</span>
<span id = 'Variable'>package</span> <span id = 'Variable'>binary128</span>

<span id = 'Constante'>import</span> <span id = 'Puntuacion'>(</span>
	<span id = 'String'>"fmt"
	"math"
	"math/big"</span>
<span id = 'Puntuacion'>)</span>

<span id = 'Variable'>const</span> <span id = 'Puntuacion'>(</span>
	<span id = 'Comentario'>// precision specifies the number of bits in the mantissa (including the</span>
	<span id = 'Comentario'>// implicit lead bit).</span>
	<span id = 'Variable'>precision</span> <span id = 'Asignacion'>=</span> <span id = 'Entero'>113</span>
	<span id = 'Comentario'>// exponent bias.</span>
	<span id = 'Variable'>bias</span> <span id = 'Asignacion'>=</span> <span id = 'Entero'>16383</span>
<span id = 'Puntuacion'>)</span>

<span id = 'Comentario'>// Positive and negative Not-a-Number, infinity and zero.</span>
<span id = 'Constante'>var</span> <span id = 'Puntuacion'>(</span>
	<span id = 'Comentario'>// +NaN</span>
	<span id = 'Variable'>NaN</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0x7FFF800000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Comentario'>// -NaN</span>
	<span id = 'Variable'>NegNaN</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0xFFFF800000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Comentario'>// +Inf</span>
	<span id = 'Variable'>Inf</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0x7FFF000000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Comentario'>// -Inf</span>
	<span id = 'Variable'>NegInf</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0xFFFF000000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Comentario'>// +zero</span>
	<span id = 'Variable'>Zero</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0x0000000000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
	<span id = 'Comentario'>// -zero</span>
	<span id = 'Variable'>NegZero</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0x8000000000000000</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Entero'>0</span><span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>)</span>

<span id = 'Comentario'>// Float is a floating-point number in IEEE 754 quadruple precision format.</span>
<span id = 'Variable'>type</span> <span id = 'Variable'>Float</span> <span id = 'Variable'>struct</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Comentario'>// Sign, exponent and fraction.</span>
	<span id = 'Comentario'>//</span>
	<span id = 'Comentario'>//    1 bit:    sign</span>
	<span id = 'Comentario'>//    15 bits:  exponent</span>
	<span id = 'Comentario'>//    112 bits: fraction</span>
	<span id = 'Variable'>a</span> <span id = 'Variable'>uint64</span>
	<span id = 'Variable'>b</span> <span id = 'Variable'>uint64</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// NewFromBits returns the floating-point number corresponding to the IEEE 754</span>
<span id = 'Comentario'>// quadruple precision binary representation.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>NewFromBits</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>a</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span> <span id = 'Variable'>uint64</span><span id = 'Puntuacion'>)</span> <span id = 'Variable'>Float</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>return</span> <span id = 'Variable'>Float</span><span id = 'Puntuacion'>{</span><span id = 'Variable'>a</span><span id = 'Invalido'>:</span> <span id = 'Variable'>a</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span><span id = 'Invalido'>:</span> <span id = 'Variable'>b</span><span id = 'Puntuacion'>}</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// NewFromFloat32 returns the nearest quadruple precision floating-point number</span>
<span id = 'Comentario'>// for x and the accuracy of the conversion.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>NewFromFloat32</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span> <span id = 'Variable'>float32</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>(</span><span id = 'Variable'>Float</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Accuracy</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>f</span><span id = 'Invalido'>,</span> <span id = 'Variable'>acc</span> <span id = 'Invalido'>:</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>NewFromFloat64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>float64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span><span id = 'Puntuacion'>)</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>if</span> <span id = 'Variable'>acc</span> <span id = 'Asignacion'>=</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>_</span><span id = 'Invalido'>,</span> <span id = 'Variable'>acc</span> <span id = 'Asignacion'>=</span> <span id = 'Variable'>f</span><span id = 'Flotante'>.</span><span id = 'Variable'>Float32</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span>
	<span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>return</span> <span id = 'Variable'>f</span><span id = 'Invalido'>,</span> <span id = 'Variable'>acc</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// NewFromFloat64 returns the nearest quadruple precision floating-point number</span>
<span id = 'Comentario'>// for x and the accuracy of the conversion.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>NewFromFloat64</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span> <span id = 'Variable'>float64</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>(</span><span id = 'Variable'>Float</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Accuracy</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Comentario'>// +-NaN</span>
	<span id = 'Variable'>switch</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>case</span> <span id = 'Variable'>math</span><span id = 'Flotante'>.</span><span id = 'Variable'>IsNaN</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span><span id = 'Puntuacion'>)</span><span id = 'Invalido'>:</span>
		<span id = 'Variable'>if</span> <span id = 'Variable'>math</span><span id = 'Flotante'>.</span><span id = 'Variable'>Signbit</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
			<span id = 'Comentario'>// -NaN</span>
			<span id = 'Variable'>return</span> <span id = 'Variable'>NegNaN</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
		<span id = 'Puntuacion'>}</span>
		<span id = 'Comentario'>// +NaN</span>
		<span id = 'Variable'>return</span> <span id = 'Variable'>NaN</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
	<span id = 'Puntuacion'>}</span>
	<span id = 'Variable'>y</span> <span id = 'Invalido'>:</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>NewFloat</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>y</span><span id = 'Flotante'>.</span><span id = 'Variable'>SetPrec</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>y</span><span id = 'Flotante'>.</span><span id = 'Variable'>SetMode</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>ToNearestEven</span><span id = 'Puntuacion'>)</span>
	<span id = 'Comentario'>// TODO: check accuracy after setting precision?</span>
	<span id = 'Variable'>return</span> <span id = 'Variable'>NewFromBig</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>y</span><span id = 'Puntuacion'>)</span>
<span id = 'Puntuacion'>}</span>

<span id = 'Comentario'>// NewFromBig returns the nearest quadruple precision floating-point number for</span>
<span id = 'Comentario'>// x and the accuracy of the conversion.</span>
<span id = 'Variable'>func</span> <span id = 'Variable'>NewFromBig</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>x</span> <span id = 'Aritmetico'>*</span><span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Float</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>(</span><span id = 'Variable'>Float</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Accuracy</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Comentario'>// +-Inf</span>
	<span id = 'Variable'>zero</span> <span id = 'Invalido'>:</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>NewFloat</span><span id = 'Puntuacion'>(</span><span id = 'Entero'>0</span><span id = 'Puntuacion'>)</span><span id = 'Flotante'>.</span><span id = 'Variable'>SetPrec</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>switch</span> <span id = 'Puntuacion'>{</span>
	<span id = 'Variable'>case</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>IsInf</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span><span id = 'Invalido'>:</span>
		<span id = 'Variable'>if</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>Signbit</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
			<span id = 'Comentario'>// -Inf</span>
			<span id = 'Variable'>return</span> <span id = 'Variable'>NegInf</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
		<span id = 'Puntuacion'>}</span>
		<span id = 'Comentario'>// +Inf</span>
		<span id = 'Variable'>return</span> <span id = 'Variable'>Inf</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
	<span id = 'Comentario'>// +-zero</span>
	<span id = 'Variable'>case</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>Cmp</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>zero</span><span id = 'Puntuacion'>)</span> <span id = 'Asignacion'>=</span><span id = 'Asignacion'>=</span> <span id = 'Entero'>0</span><span id = 'Invalido'>:</span>
		<span id = 'Variable'>if</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>Signbit</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
			<span id = 'Comentario'>// -zero</span>
			<span id = 'Variable'>return</span> <span id = 'Variable'>NegZero</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
		<span id = 'Puntuacion'>}</span>
		<span id = 'Comentario'>// +zero</span>
		<span id = 'Variable'>return</span> <span id = 'Variable'>Zero</span><span id = 'Invalido'>,</span> <span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Exact</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Comentario'>// Sign</span>
	<span id = 'Constante'>var</span> <span id = 'Variable'>a</span><span id = 'Invalido'>,</span> <span id = 'Variable'>b</span> <span id = 'Variable'>uint64</span>
	<span id = 'Variable'>if</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>Signbit</span><span id = 'Puntuacion'>(</span><span id = 'Puntuacion'>)</span> <span id = 'Puntuacion'>{</span>
		<span id = 'Variable'>a</span> <span id = 'Asignacion'>|=</span> <span id = 'Entero'>0x8000000000000000</span>
	<span id = 'Puntuacion'>}</span>

	<span id = 'Comentario'>// Exponent and mantissa.</span>
	<span id = 'Variable'>mant</span> <span id = 'Invalido'>:</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>new</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>big</span><span id = 'Flotante'>.</span><span id = 'Variable'>Float</span><span id = 'Puntuacion'>)</span><span id = 'Flotante'>.</span><span id = 'Variable'>SetPrec</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>precision</span><span id = 'Puntuacion'>)</span>
	<span id = 'Variable'>exponent</span> <span id = 'Invalido'>:</span><span id = 'Asignacion'>=</span> <span id = 'Variable'>x</span><span id = 'Flotante'>.</span><span id = 'Variable'>MantExp</span><span id = 'Puntuacion'>(</span><span id = 'Variable'>mant</span><span id = 'Puntuacion'>)</span>
	<span id = 'Comentario'>// Remove 1 from the exponent as big.Float has an no lead bit.</span>
        </pre>
    </body>
</html>    